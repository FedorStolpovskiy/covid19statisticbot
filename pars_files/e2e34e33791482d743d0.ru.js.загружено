(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["other","dialog"],{1151:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n(6),i=n(4),a=n(8),c=n(836),s=n(112),l=n(57),u=n(543),d=n(126),f={portrait:{firefox:755,chrome:705,safari:695,ie:645},landscape:{firefox:1085,chrome:1015,safari:1005,ie:975}},p=function(e){function t(t){var n;return(n=e.call(this,t)||this)._getAnalyticsNode=function(){return n._analyticsNode||(n._analyticsNode=n.props.parentAnalyticsNode.createChild("print_component").attach()),n._analyticsNode},n._onKeyDown=function(e){var t=e.keyCode,r=e.ctrlKey,o=e.metaKey;t===l.a.P&&(r||o)&&n._getAnalyticsNode().logEvent("print",{ctrlP:!0})},n._onKeyUp=function(e){e.keyCode===l.a.PRINT_SCREEN&&n.props.parentAnalyticsNode.createChild("print_screen").attach().logEvent("click")},n._onMatchMediaFired=function(e){e.matches&&n._getAnalyticsNode().logEvent("print",{matchMedia:!0})},n._onBeforePrint=function(){n._getAnalyticsNode().logEvent("print"),n.setState({styles:n._getPrintStyles(Object(s.b)())})},n._getPrintStyles=function(e){var t=window.document.querySelector(".map-container").clientHeight;return["portrait","landscape"].reduce(function(n,o){var i,a,c=function(e){return f[e][function(){var e=window.navigator.userAgent,t="string"==typeof e?e:"";if(t.includes("Chrome"))return"chrome";if(t.includes("Safari"))return"safari";if(t.includes("Firefox"))return"firefox";return"ie"}()]/window.document.documentElement.clientWidth}(o),s="portrait"===o?"print":"print and (orientation:"+o+")";return Object(r.a)(Object(r.a)({},n),{},((a={})[s]={".map-container > ymaps":(i={},i[e.cssStyles.transform]="scale("+c+")",i[e.cssStyles.transformOrigin]="0 0",i),".map-container, .panorama-player-view":{height:t*c+"px"}},a))},{})},n.state={},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=Object(s.b)();this.setState({styles:this._getPrintStyles(e)}),e.has.printColorAdjust||window.document.documentElement.classList.add("no-print-color-adjust"),window.matchMedia&&window.matchMedia("print").addListener(this._onMatchMediaFired)},n.componentWillUnmount=function(){window.matchMedia&&window.matchMedia("print").removeListener(this._onMatchMediaFired)},n.render=function(){var e=this.state.styles;return i.createElement(i.Fragment,null,e?i.createElement(c.a,{styles:e}):null,i.createElement(d.a,{type:"beforeprint",listener:this._onBeforePrint}),i.createElement(d.a,{type:"keydown",listener:this._onKeyDown}),i.createElement(d.a,{type:"keyup",listener:this._onKeyUp}))},t}(i.Component);p.displayName="PrintComponent",t.default=Object(u.b)(Object(a.b)(p))},1205:function(e,t,n){"use strict";n.r(t);var r=n(10),o=n(6),i=(n(2364),n(4)),a=n(11),c=n(377),s=n(110),l=n(126),u=n(16),d=n(67),f=c.a.getLogger("uxfb"),p=a.b(function(e){return{mode:u.d(e),urlPath:Object(d.c)(e).path,config:e.config}}),m=function(e){function t(t){var n;return(n=e.call(this,t)||this)._ref=i.createRef(),n._isLocationListened=!1,n._previousLocation=null,n._setIframeStyle=function(e){n._ref.current.setAttribute("style",e)},n._showWidgetIcon=function(e,t){n._ref.current.setAttribute("width",e),n._ref.current.setAttribute("height",t),n._ref.current.className="",n._sendMessage("showWidgetIcon",{}),n._ref.current.style.opacity="1"},n._setIframeOpacity=function(e){n._ref.current.style.opacity=e},n._addClassToIframe=function(e){n._ref.current.classList.add(e)},n._setIframeSize=function(e,t){e&&(n._ref.current.style.width=e,"100%"===e&&(n._ref.current.style.left="0",n._ref.current.style.right="0",n._ref.current.style.top="0",n._ref.current.style.transform="")),t&&(n._ref.current.style.height=t)},n._setIframePosition=function(e){var t=parseInt(e,10),r=window.innerHeight||document.documentElement.clientHeight,o=t>=r?0:(r-t)/2;n._ref.current.style.transform="",n._ref.current.style.left="",n._ref.current.style.right="",n._ref.current.style.top=o+"px"},n._sendCurrentInformation=function(){var e=window.innerHeight||document.documentElement.clientHeight;n._sendMessage("info",{url:document.location.href,cookies:"",ymId:s.a.get("_ym_uid",n.props.config),devicePixelRatio:window.devicePixelRatio,scrollTop:document.documentElement.scrollTop,scrollHeight:document.documentElement.scrollHeight}),n._sendMessage("clientHeight",e),window.addEventListener("resize",function(){var e=window.innerHeight||document.documentElement.clientHeight;n._sendMessage("clientHeight",e)},!1)},n._onLocationChange=function(){n._isLocationListened&&(n._sendMessage("history",{oldLocation:JSON.stringify(n._previousLocation),location:JSON.stringify(window.location)}),n._previousLocation=Object(r.a)({},window.location))},n._initLocationListener=function(){n._isLocationListened=!0},n._scrollPageListener=function(){n._sendMessage("scroll",{scrollTop:document.documentElement.scrollTop})},n._reachMetrikaGoal=function(e,t){var n=window.ym,r=window["yaCounter"+e];n?n(e,"reachGoal","UX_FEEDBACK",t):r&&r.reachGoal("UX_FEEDBACK",t)},n._sendMessage=function(e,t){var r,o;f("output message",e,t),null===(r=n._ref.current)||void 0===r||null===(o=r.contentWindow)||void 0===o||o.postMessage({type:"uxfb/"+e,payload:t},"*")},n._onMessage=function(e){var t=e.data,r=t.type,o=void 0===r?"":r,i=t.payload,a=o.split("/"),c=a[0],s=a[1];if("uxfb"===c){var l={name:s,payload:i};switch(f("input message",l.name,l.payload),l.name){case"style":n._setIframeStyle(l.payload);break;case"image":n._showWidgetIcon(l.payload.width,l.payload.height);break;case"opacity":n._setIframeOpacity(l.payload);break;case"class":n._addClassToIframe("uxs-slide-back"),n._addClassToIframe(l.payload);break;case"size":n._setIframeSize(l.payload.width,l.payload.height);break;case"position":n._setIframePosition(l.payload.height);break;case"listener":n._sendCurrentInformation();break;case"locationListener":n._initLocationListener();break;case"addScroll":window.addEventListener("scroll",n._scrollPageListener);break;case"removeScroll":window.removeEventListener("scroll",n._scrollPageListener);break;case"reachYaMetricaGoal":n._reachMetrikaGoal(l.payload.id,l.payload.params)}}},n.state={},n}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this._previousLocation=Object(r.a)({},window.location),this._onLocationChange()},n.componentDidUpdate=function(e){var t=this.props;e.mode===t.mode&&e.urlPath===t.urlPath||this._onLocationChange()},n.render=function(){var e=this.props.config.staticHost+"/static/v18/iframe-ux-feedback.html";return i.createElement(i.Fragment,null,i.createElement("iframe",{ref:this._ref,frameBorder:0,src:e,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"}),i.createElement(l.a,{type:"message",listener:this._onMessage}))},t}(i.Component);m.displayName="UxFeedbackComponent",t.default=p(m)},1318:function(e,t,n){"use strict";n.r(t);var r=n(4),o=n(11),i=n(22),a=n(6),c=(n(1584),n(9)),s=n(7),l=n(19),u=n(44),d=n(15),f=n(8),p=n(41),m=n(302),h=n(23),_=n(83),y=n(75),g=Object(s.a)("clear-history-dialog"),v=4e3,E=function(e){function t(t){var n;return(n=e.call(this,t)||this)._target=r.createRef(),n._hidePopupTimeout=0,n._onDialogClose=function(){n.props.onClose(),n.setState({isErrorPopupShown:!1})},n._onClearUserHistory=function(){var e=n.props;n._clearHistoryAction=l.a.create(m.a.clearPersonalData(e.config,e.timeContext).then(function(){return Promise.all([_.a(e.config),y.W.deleteRecords(e.config),y.X.deleteRecords(e.config)])}),{success:function(){n._onDialogClose(),e.showPopup(),n._hidePopupTimeout=window.setTimeout(e.hidePopup,v)},fail:function(){n.setState({isErrorPopupShown:!0}),n._hidePopupTimeout=window.setTimeout(function(){n.setState({isErrorPopupShown:!1})},v)}})},n._renderHistoryClearErrorHint=function(){return r.createElement(h.a,{isShown:n.state.isErrorPopupShown,position:"top",type:"help",onScroll:"close",getTarget:function(){return n._target.current||null}},r.createElement("div",{className:g("history-clear-error-hint")},"При очистке истории произошла ошибка"))},n.state={isErrorPopupShown:!1},n}Object(a.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){window.clearTimeout(this._hidePopupTimeout),l.a.cancel(this._clearHistoryAction)},n.render=function(){var e=this.props,t=e.isOpen,n=e.onClose;return r.createElement(r.Fragment,null,r.createElement(u.default,{isOpen:t,onClose:this._onDialogClose,showCloseButton:!0},r.createElement("div",{className:g()},r.createElement("div",{className:g("title")},"Очистить историю поиска и маршрутов"),r.createElement("div",{className:g("text")},"История поиска и построенных маршрутов помогает подсказывать места, когда вы что-то ищете. Если очистить историю, подсказки в Картах, Навигаторе и Транспорте станут менее точными."),r.createElement("div",{className:g("buttons-container")},r.createElement(c.a,{name:"clear_history_dialog_button",nodeState:{type:"user"},logClick:!0},r.createElement("div",{className:g("button",{type:"clear-history"})},r.createElement(d.a,{ref:this._target,view:"primary",size:"small",onClick:this._onClearUserHistory},"Очистить"))),r.createElement(c.a,{name:"cancel_history_dialog_button",nodeState:{type:"user"},logClick:!0},r.createElement("div",{className:g("button",{type:"cancel-clear-history"})},r.createElement(d.a,{view:"secondary-blue",size:"small",onClick:n},"Отменить")))))),this._renderHistoryClearErrorHint())},t}(r.Component),b=Object(p.b)(Object(f.b)(E)),w={closeClearHistoryDialog:i.a.closeClearHistoryDialog,showClearHistoryPopup:i.a.showClearHistorySuccessPopup,hideClearHistoryPopup:i.a.hideClearHistorySuccessPopup},C=o.b(function(e){return{clearHistoryDialogOpened:e.clearHistoryDialogOpened}},w);t.default=C(function(e){var t=e.clearHistoryDialogOpened,n=e.closeClearHistoryDialog,o=e.showClearHistoryPopup,i=e.hideClearHistoryPopup;return r.createElement(b,{isOpen:Boolean(t),onClose:n,showPopup:o,hidePopup:i})})},1584:function(e,t,n){},2364:function(e,t,n){},302:function(e,t,n){"use strict";var r=n(10),o=n(110),i=n(101),a=n(48),c={outformat:"json"},s={fetch:function(e,t){return Object(i.a)({url:t.hosts.suggestApi+"suggest-geo",credentials:"include",query:Object(r.a)(Object(r.a)({v:9,fullpath:1,lang:t.locale,yu:o.a.get("yandexuid",t)},c),e)},t).then(function(t){return e.client_reqid&&(t.client_reqid=e.client_reqid),Object(r.a)(Object(r.a)({},t),{},{results:t.results.map(function(t){var n,r,o;return"object"==typeof t.title&&!t.title.text&&t.subtitle&&(t.title=t.subtitle,delete t.subtitle),e.ull||delete t.distance,e.part&&(n=e.part,o="object"==typeof(r=t).title?r.title.text:r.title,n.toLocaleLowerCase().includes(o.toLocaleLowerCase()))&&delete t.button_text,t})})})},addPersonal:function(e,t,n){Object(i.a)({url:t.hosts.suggestApi+"suggest-personal-add",mode:"no-cors",credentials:"include",query:Object(r.a)(Object(r.a)(Object(r.a)({yu:o.a.get("yandexuid",t)},c),e),{},{client:t.serviceName,timestamp:l(n)})},t).catch(function(){})},clearPersonalData:function(e,t){return Object(i.a)({url:e.hosts.suggestApi+"suggest-personal-delete-all",mode:"no-cors",credentials:"include",query:Object(r.a)(Object(r.a)({yu:o.a.get("yandexuid",e)},c),{},{client:e.serviceName,timestamp:l(t)})},e).catch(function(){})}};function l(e){return Math.round(a.i(e).getTime()/1e3)}t.a=s},44:function(e,t,n){"use strict";n.r(t);var r=n(6),o=(n(58),n(4)),i=n(7),a=n(35),c=n(88),s=n(8),l=n(57),u=n(36),d=n(56),f=n(9),p=Object(i.a)("dialog"),m=function(e){function t(){var t;return(t=e.apply(this,arguments)||this)._container=o.createRef(),t._ref=o.createRef(),t._focusContainer=function(){if(t._container.current&&(!window.document.activeElement||!t._container.current.contains(window.document.activeElement))){var e=t._ref.current.scrollTop;t._container.current.focus(),t._ref.current.scrollTop=e}},t._onClose=function(){t.props.onClose()},t._onMouseDown=function(e){var n=e.currentTarget,r=!!(n.scrollHeight>n.offsetHeight)&&n.offsetWidth===n.clientWidth?15:0;e.target===e.currentTarget&&e.clientX+r<e.currentTarget.clientWidth&&t._onClose()},t._onScroll=function(){var e=t._ref.current,n=e.clientHeight+e.scrollTop>=e.scrollHeight;t.props.onScrollToEnd&&n&&t.props.onScrollToEnd()},t._renderClose=function(){if(!t.props.showCloseButton)return null;var e=Boolean(!1);return o.createElement(f.a,{name:"close",useParentState:!0,logClick:!0},o.createElement(u.a,{onClick:t._onClose,offset:e?"small":"large",circle:!0,usePortal:!1}))},t._renderContainer=function(){var e=t.props,n=Boolean(!1);return o.createElement("div",{className:p("container"),ref:t._container,tabIndex:1},o.createElement(c.a,{handlers:{key:l.a.ESC,callback:t._onClose,allowInEditable:!0},stopPropagation:!0}),o.createElement("div",{className:p("content",{"with-title":n})},n?o.createElement(a.a,{selector:".body"},o.createElement("div",{className:p("title")},e.mobileTitle)):null,t._renderClose(),e.children))},t._renderDialog=function(){var e=t.props;return o.createElement(f.a,{name:"dialog",useParentState:!0,logClick:!0},o.createElement(o.Fragment,null,o.createElement("div",{className:p({transparent:e.transparent,fullscreen:e.fullscreen,"fit-mobile-content":e.fitMobileContent}),style:e.zIndex?{zIndex:e.zIndex}:void 0,ref:t._ref,onMouseDown:t._onMouseDown,onTouchMove:function(e){return e.preventDefault()},onScroll:t.props.onScrollToEnd?t._onScroll:void 0},t._renderContainer()),o.createElement("div",{className:p("paranja"),style:e.zIndex?{zIndex:e.zIndex-1}:void 0})))},t}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isOpen&&this._focusContainer()},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen&&this._focusContainer()},n.render=function(){var e=this.props,t=e.isOpen?this._renderDialog():null;return e.inline?o.createElement(d.a,{onHideEnd:e.onHideEnd},t):o.createElement(a.a,{selector:".body"},o.createElement(d.a,{onHideEnd:e.onHideEnd},t))},t}(o.Component);t.default=Object(s.b)(m)},58:function(e,t,n){},83:function(e,t,n){"use strict";var r=n(10),o=n(2977),i=n(46),a=n(125),c=n(151);n.d(t,"f",function(){return h}),n.d(t,"b",function(){return _}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"g",function(){return E}),n.d(t,"i",function(){return b}),n.d(t,"h",function(){return w}),n.d(t,"k",function(){return d}),n.d(t,"p",function(){return C}),n.d(t,"o",function(){return O}),n.d(t,"a",function(){return S}),n.d(t,"n",function(){return k}),n.d(t,"l",function(){return P}),n.d(t,"j",function(){return j}),n.d(t,"m",function(){return H});var s,l={"ymapsbm1://pin":"pin","ymapsbm1://geo":"toponym","ymapsbm1://org":"business"},u=500;function d(e,t){return{home:"Дом",work:"Работа"}[e]}var f=function(e){return s||(s=a.a.getLib(e).then(function(e){return e.getSearchHistoryManager()})),s};function p(e,t){return"children"in t?t.children.map(function(t){return p(e,t)}).find(Boolean)||null:e(t)?t:null}function m(e,t){return"children"in t?e(t)?t:t.children.find(function(t){return"children"in t&&Boolean(m(e,t))})||null:null}function h(e,t){return m(function(t){return t.id===e},t)}function _(e,t){return p(function(t){return t.id===e},t)}function y(e,t){return p(function(t){return t.uri===e},t)}function g(e,t){return y(i.g(e),t)||function(e,t){return p(function(t){var n=i.e(t.uri);return i.k(t.uri)&&null!==n&&Object(o.a)(n,e.coordinates)},t)}({coordinates:e.displayCoordinates},t)}function v(e,t){return m(function(t){return t.children.some(function(t){return e===t.id})},t)}function E(e){return"children"in e?e.children.reduce(function(e,t){return e.concat(E(t))},[]):[e]}function b(e,t){return e.children.reduce(function(e,n){var r;return(null===(r=n.tags)||void 0===r?void 0:r.includes(t))?e.concat(E(n)):e},[])}function w(e){var t=e.uri,n=Object.keys(l).find(function(e){return t.includes(e)});return n?l[n]:"unknown"}function C(e,t){var n=e.text.trim();t.authorization&&n&&f(t).then(function(t){t.addRecord({text:n,uri:e&&e.uri})}).catch(function(){})}function O(e){return e.authorization?Promise.race([f(e).then(function(e){return e.getRecords()}),c.a(u)]).catch(function(){return[]}):Promise.resolve([])}function S(e){return e.authorization?f(e).then(function(e){return e.deleteRecords()}):Promise.reject()}function k(e){return"coords"in e}function P(e,t){return e.id===a.a.FAVORITES_FOLDER_ID?"Избранное":e.title}function j(e){return("create_folder"===e.type||"edit_folder"===e.type)&&e.isShownIconSelection?"select_folder_icon":e.type}function H(e){switch(e.type){case"create_folder":return Object(r.a)({type:e.type,values:{title:"",description:""}},e.data);case"edit_folder":return Object(r.a)({type:e.type},e.data);case"rename_bookmark":return{type:e.type,bookmark:e.bookmark}}return null}},836:function(e,t,n){"use strict";var r=n(4);t.a=function(e){var t=e.styles,n=Object.keys(t);if(0===n.length)return null;var o="";return n.forEach(function(e){var n=t[e];o+="@media "+e+" {",Object.keys(n).forEach(function(e){var t=n[e];o+=e+" {",Object.keys(t).forEach(function(e){o+=e+": "+t[e]+";"}),o+="}"}),o+="}"}),r.createElement("style",{type:"text/css",dangerouslySetInnerHTML:{__html:o}})}}}]);