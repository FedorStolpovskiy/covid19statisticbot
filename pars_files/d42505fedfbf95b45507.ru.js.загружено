(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["masstransit-bookmarks"],{528:function(t,n,r){"use strict";r.r(n);var o,a,e=r(10),i=r(125),s=r(784);function u(t,n,r){var u=r.config;return u.authorization?o||(o=i.a.getLib(u).then(function(t){return t.getMasstransitManager()}).then(function(r){Object(s.a)(r,u);var o=function(){t({type:"EXTEND",payload:{masstransitBookmarks:Object(e.a)(Object(e.a)({},n().masstransitBookmarks),{},{stops:Object.values(r.getAllStops()),lines:Object.values(r.getAllLines())})}})};return o(),r.on("masstransit-update",o),a=r,r}).catch(function(){t({type:"DEEP_EXTEND",payload:{masstransitBookmarks:{hasInitError:!0}}})})):(t({type:"DEEP_EXTEND",payload:{masstransitBookmarks:{hasInitError:!0}}}),Promise.reject("User is not authorized."))}function c(t){var n=t.type,r=t.id,o=t.action;return function(t,e,i){if(u(t,e,{config:i.config}),a){var s=function(t,n,r){return function(o){var a,e=o.inProgress,i=o.error;r({type:"DEEP_EXTEND",payload:{masstransitBookmarks:{actions:(a={},a[t]={type:n,inProgress:e,error:i},a)}}})}}(r,n,t);s({inProgress:!0}),o(a).then(function(){return s({inProgress:!1})},function(){return s({inProgress:!1,error:!0})})}}}var d={initMasstransitManager:function(){return u},addStop:function(t){var n=t.actionId,r=t.data;return c({type:"add_stop",id:n,action:function(t){return t.addStop(r)}})},addLine:function(t){var n=t.actionId,r=t.data;return c({type:"add_line",id:n,action:function(t){return t.addLine(r)}})},removeStop:function(t){var n=t.actionId,r=t.recordId;return c({type:"remove_stop",id:n,action:function(t){return t.removeStop(r)}})},removeLine:function(t){var n=t.actionId,r=t.recordId;return c({type:"remove_line",id:n,action:function(t){return t.removeLine(r)}})},setHighlightedStopId:function(t){return{type:"DEEP_EXTEND",payload:{masstransitBookmarks:{highlightedStopId:t}}}}};n.default=d}}]);